(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[673],{12498:(e,t,n)=>{"use strict";n.d(t,{About:()=>j});var l=n(95155),r=n(81068),i=n(17921),s=n(89248),a=n(90310),o=n(35599),c=n(38567),d=n(61840),x=n(6874),h=n.n(x),u=n(14918);function j(e){let{meta:t}=e;return(0,l.jsxs)(r.Box,{mx:"auto",maxW:"750px",mb:12,children:[(0,l.jsx)(i.Heading,{textAlign:"center",fontSize:"xl",mb:5,children:"About"}),(0,l.jsx)(s._,{src:(0,u.$)("/meta/reporter.png"),mx:"auto",mb:5,objectFit:"cover",maxW:"250px",alt:t.reporter}),(0,l.jsx)(a.Text,{mb:5,whiteSpace:"pre-line",children:t.message}),(0,l.jsx)(o.VStack,{children:t.webLink&&(0,l.jsx)(h(),{href:t.webLink,target:"_blank",rel:"noopener noreferrer",children:(0,l.jsxs)(c.Button,{size:"2xl",minW:"300px",bgColor:t.brandColor||"#2577B1",children:[(0,l.jsx)(s._,{src:(0,u.$)("/meta/icon.png"),w:30,alt:t.reporter}),t.reporter,"のページへ",(0,l.jsx)(d.A,{})]})})})]})}},14918:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});let l=e=>e||new URL(e,"http://localhost:8000").href},18133:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var l=n(95155),r=n(77342),i=n(12115),s=n(14549);let a=i.forwardRef(function(e,t){var n;return(0,l.jsx)(r.IconButton,{variant:"ghost","aria-label":"Close",ref:t,...e,children:null!==(n=e.children)&&void 0!==n?n:(0,l.jsx)(s.SXS,{})})})},37777:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var l=n(95155),r=n(35341),i=n(70318);let s=n(12115).forwardRef(function(e,t){let{showArrow:n,children:s,disabled:a,portalled:o=!0,content:c,contentProps:d,portalRef:x,...h}=e;return a?s:(0,l.jsxs)(r.sb,{...h,children:[(0,l.jsx)(r.k$,{asChild:!0,children:s}),(0,l.jsx)(i.Portal,{disabled:!o,container:x,children:(0,l.jsx)(r.ol,{children:(0,l.jsxs)(r.ZI,{ref:t,...d,children:[n&&(0,l.jsx)(r.PR,{children:(0,l.jsx)(r.Mo,{})}),c]})})})]})})},38878:(e,t,n)=>{"use strict";n.d(t,{ClientContainer:()=>M});var l=n(95155),r=n(12115),i=n(55028),s=n(58923),a=n(97377);function o(e){let{loaded:t,max:n,isVisualizing:r}=e;return r?(0,l.jsx)(s.wi,{value:null,size:"xl",mx:"auto",p:5,maxW:"800px",colorPalette:"cyan",children:(0,l.jsxs)(a.HStack,{gap:"5",children:[(0,l.jsx)(s.XL,{flex:"1",children:(0,l.jsx)(s.Fx,{})}),(0,l.jsx)(s.uW,{children:"Visualizing..."})]})}):(0,l.jsx)(s.wi,{value:t,max:n,size:"xl",mx:"auto",p:5,maxW:"800px",colorPalette:"cyan",children:(0,l.jsxs)(a.HStack,{gap:"5",children:[(0,l.jsx)(s.XL,{flex:"1",children:(0,l.jsx)(s.Fx,{})}),(0,l.jsxs)(s.eY,{children:[Math.floor(t/1024).toLocaleString()," KB / ",Math.floor(n/1024).toLocaleString()," KB"]})]})})}let c={moduleType:"locale",name:"ja",dictionary:{Autoscale:"自動スケーリング","Box Select":"ボックス選択","Click to enter Colorscale title":"クリックしてカラースケールのタイトルを入力","Click to enter Component A title":"クリックしてコンポーネントAのタイトルを入力","Click to enter Component B title":"クリックしてコンポーネントBのタイトルを入力","Click to enter Component C title":"クリックしてコンポーネントCのタイトルを入力","Click to enter Plot title":"クリックしてプロットのタイトルを入力","Click to enter X axis title":"クリックしてX軸のタイトルを入力","Click to enter Y axis title":"クリックしてY軸のタイトルを入力","Compare data on hover":"ホバーでデータを比較","Double-click on legend to isolate one trace":"凡例をダブルクリックすると1つのトレースだけを表示","Double-click to zoom back out":"ダブルクリックでズームアウト","Download plot as a png":"PNGとしてプロットをダウンロード","Download plot":"プロットをダウンロード","Edit in Chart Studio":"Chart Studioで編集","IE only supports svg.  Changing format to svg.":"IEはSVG形式のみ対応。SVGに変換します。","Lasso Select":"なげなわ選択","Orbital rotation":"軌道回転",Pan:"パン操作","Produced with Plotly.js":"Plotly.js により作成",Reset:"リセット","Reset axes":"軸をリセット","Reset camera to default":"カメラをデフォルト位置にリセット","Reset camera to last save":"カメラを最後の保存状態に戻す","Reset view":"ビューをリセット","Reset views":"ビューをリセット","Show closest data on hover":"ホバー時に最も近いデータを表示","Snapshot succeeded":"スナップショットに成功しました","Sorry, there was a problem downloading your snapshot!":"スナップショットのダウンロード中に問題が発生しました","Taking snapshot - this may take a few seconds":"スナップショットを作成中（数秒かかる場合があります）",Zoom:"ズーム","Zoom in":"拡大","Zoom out":"縮小","close:":"終値:",trace:"トレース:","lat:":"緯度:","lon:":"経度:","q1:":"第1四分位数:","q3:":"第3四分位数:","source:":"ソース:","target:":"ターゲット:","lower fence:":"下限フェンス:","upper fence:":"上限フェンス:","max:":"最大:","mean \xb1 σ:":"平均 \xb1 σ:","mean:":"平均:","median:":"中央値:","min:":"最小:","Turntable rotation":"ターンテーブル回転","Toggle Spike Lines":"スパイクラインの切り替え","open:":"始値:","high:":"高値:","low:":"安値:","Toggle show closest data on hover":"ホバー時の最も近いデータ表示を切り替え","incoming flow count:":"流入フロー数:","outgoing flow count:":"流出フロー数:","kde:":"カーネル密度推定:","Click to enter radial axis title":"クリックして放射軸のタイトルを入力","new text":"新しいテキスト"},format:{days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],date:"%Y/%m/%d"}},d=(0,i.default)(async()=>{let e=await Promise.all([n.e(466),n.e(709),n.e(478),n.e(809),n.e(638),n.e(502)]).then(n.t.bind(n,47502,23)),t=await Promise.all([n.e(466),n.e(709),n.e(478),n.e(809),n.e(638),n.e(909)]).then(n.t.bind(n,50909,23)),l=await Promise.all([n.e(466),n.e(709),n.e(478),n.e(809),n.e(843),n.e(397)]).then(n.t.bind(n,18397,23)),r=await Promise.all([n.e(466),n.e(709),n.e(478),n.e(809),n.e(843),n.e(549)]).then(n.t.bind(n,12549,23)),i=(await n.e(291).then(n.bind(n,72291))).default;return e.register([t,l,r]),e.register(c),i(e)},{loadableGenerated:{webpack:()=>[72291]},ssr:!1,loading:()=>(0,l.jsx)(o,{loaded:100,max:100,isVisualizing:!0})});function x(e){let{clusterList:t,argumentList:n,targetLevel:r}=e,i=t.filter(e=>e.level===r),s=["#7ac943","#3fa9f5","#ff7997","#e0dd02","#d6410f","#b39647","#7cccc3","#a147e6"],a=i.reduce((e,t,n)=>(e[t.id]=s[n%s.length],e),{}),o=i.map(e=>{let t=n.filter(t=>t.cluster_ids.includes(e.id)),l=t.map(e=>e.x),r=t.map(e=>e.y),i=t.map(t=>"<b>".concat(e.label,"</b><br>").concat(t.argument.replace(/(.{30})/g,"$1<br />"))),s=l.reduce((e,t)=>e+t,0)/l.length,a=r.reduce((e,t)=>e+t,0)/r.length;return{cluster:e,xValues:l,yValues:r,texts:i,centerX:s,centerY:a}});return(0,l.jsx)(d,{data:o.map(e=>({x:e.xValues,y:e.yValues,mode:"markers",marker:{size:7,color:a[e.cluster.id]},type:"scatter",text:e.texts,hoverinfo:"text",hoverlabel:{align:"left",bgcolor:"white",bordercolor:a[e.cluster.id],font:{size:12,color:"#333"}}})),layout:{margin:{l:0,r:0,b:0,t:0},xaxis:{zeroline:!1,showticklabels:!1},yaxis:{zeroline:!1,showticklabels:!1},hovermode:"closest",annotations:o.map(e=>({x:e.centerX,y:e.centerY,text:e.cluster.label,showarrow:!1,font:{color:"white",size:14,weight:700},bgcolor:a[e.cluster.id],opacity:.8,bordercolor:a[e.cluster.id],borderpad:4,borderwidth:1})),showlegend:!1},useResizeHandler:!0,style:{width:"100%",height:"100%"},config:{responsive:!0,displayModeBar:!1,locale:"ja"}})}function h(e){let{clusterList:t,argumentList:n}=e,r=n.map(u),i=[{...t[0],parent:""},...t.slice(1),...r],s=i.map(e=>e.id),a=i.map(e=>e.label.replace(/(.{15})/g,"$1<br />")),o=i.map(e=>e.parent),c=i.map(e=>e.value),x=i.map(e=>e.takeaway.replace(/(.{15})/g,"$1<br />"));return(0,l.jsx)(d,{data:[{type:"treemap",ids:s,labels:a,parents:o,values:c,customdata:x,branchvalues:"total",hovertemplate:"%{customdata}<extra></extra>",hoverlabel:{align:"left"},texttemplate:"%{label}<br>%{value:,}件<br>%{percentEntry:.2%}",maxdepth:2,pathbar:{thickness:28}}],layout:{margin:{l:10,r:10,b:10,t:30},colorway:["#b3daa1","#f5c5d7","#d5e5f0","#fbecc0","#80b8ca","#dabeed","#fad1af","#fbb09d","#a6e3ae","#f1e4d6"]},useResizeHandler:!0,style:{width:"100%",height:"100%"},config:{responsive:!0,displayModeBar:!1,locale:"ja"}})}function u(e){return{level:3,id:e.arg_id,label:e.argument,takeaway:"",value:1,parent:e.cluster_ids[2],density_rank_percentile:0}}var j=n(81068),m=n(38567),b=n(7684),p=n(75675),g=n(37777);function f(e){let{result:t,selectedChart:n,isFullscreen:r,onExitFullscreen:i}=e;return r?(0,l.jsxs)(j.Box,{w:"100%",h:"100vh",position:"fixed",top:0,bottom:0,left:0,right:0,bgColor:"#fff",children:[(0,l.jsx)(g.m,{content:"全画面終了",openDelay:0,closeDelay:0,children:(0,l.jsx)(m.Button,{onClick:i,h:"50px",position:"fixed",top:5,right:5,zIndex:1,borderWidth:2,children:(0,l.jsx)(b.Icon,{children:(0,l.jsx)(p.A,{})})})}),("scatterAll"===n||"scatterDensity"===n)&&(0,l.jsx)(x,{clusterList:t.clusters,argumentList:t.arguments,targetLevel:"scatterAll"===n?1:Math.max(...t.clusters.map(e=>e.level))}),"treemap"===n&&(0,l.jsx)(h,{clusterList:t.clusters,argumentList:t.arguments})]}):(0,l.jsx)(j.Box,{mx:"auto",w:"100%",maxW:"1200px",mb:10,children:(0,l.jsxs)(j.Box,{h:"500px",mb:5,children:["treemap"===n&&(0,l.jsx)(h,{clusterList:t.clusters,argumentList:t.arguments}),("scatterAll"===n||"scatterDensity"===n)&&(0,l.jsx)(x,{clusterList:t.clusters,argumentList:t.arguments,targetLevel:"scatterAll"===n?1:Math.max(...t.clusters.map(e=>e.level))})]})})}var v=n(62810);let k=r.forwardRef(function(e,t){let{inputProps:n,label:i,description:s,addon:a,icon:o,indicator:c=(0,l.jsx)(v.yn,{}),indicatorPlacement:d="end",...x}=e,h=i||s||o,u=c?v.Y4:r.Fragment;return(0,l.jsxs)(v.bd,{...x,children:[(0,l.jsx)(v.pR,{ref:t,...n}),(0,l.jsxs)(v.aL,{children:["start"===d&&c,h&&(0,l.jsxs)(u,{children:[o,i&&(0,l.jsx)(v.WX,{children:i}),s&&(0,l.jsx)(v.HL,{children:s}),"inside"===d&&c]}),"end"===d&&c]}),a&&(0,l.jsx)(v.$f,{children:a})]})}),y=v.Q;v.Qr,v.yn;var w=n(42482),C=n(84409),S=n(17017),z=n(65911),_=n(56013),B=n(44731);function D(e){let{selected:t,onChange:n,onClickDensitySetting:r,onClickFullscreen:i}=e;return(0,l.jsxs)(a.HStack,{w:"100%",maxW:"1200px",mx:"auto",justify:"space-between",align:"center",mb:2,children:[(0,l.jsx)(y,{orientation:"horizontal",align:"center",justify:"center",w:"100%",maxW:"xl",size:"sm",display:"block",value:t,onChange:e=>n(e.target.value),colorPalette:"cyan",children:(0,l.jsxs)(a.HStack,{align:"stretch",children:[(0,l.jsx)(k,{value:"scatterAll",label:(0,w.A)({base:"",md:"全体図"}),indicator:!1,icon:(0,l.jsx)(b.Icon,{children:(0,l.jsx)(C.A,{})}),cursor:"pointer"}),(0,l.jsx)(k,{value:"scatterDensity",label:(0,w.A)({base:"",md:"濃い意見グループ"}),indicator:!1,icon:(0,l.jsx)(b.Icon,{children:(0,l.jsx)(S.A,{})}),cursor:"pointer"}),(0,l.jsx)(k,{value:"treemap",label:(0,w.A)({base:"",md:"階層図"}),indicator:!1,icon:(0,l.jsx)(b.Icon,{children:(0,l.jsx)(z.A,{})}),cursor:"pointer"})]})}),(0,l.jsxs)(a.HStack,{children:[(0,l.jsx)(g.m,{content:"濃い意見グループ設定",openDelay:0,closeDelay:0,children:(0,l.jsx)(m.Button,{onClick:r,variant:"outline",h:"50px",children:(0,l.jsx)(b.Icon,{children:(0,l.jsx)(_.A,{})})})}),(0,l.jsx)(g.m,{content:"全画面表示",openDelay:0,closeDelay:0,children:(0,l.jsx)(m.Button,{onClick:i,variant:"outline",h:"50px",children:(0,l.jsx)(b.Icon,{children:(0,l.jsx)(B.A,{})})})})]})]})}var A=n(90310),P=n(58126),H=n(99840),L=n(43235),R=n(92860);let W=r.forwardRef(function(e,t){var n;let{marks:r,label:i,showValue:s,...o}=e,c=null!==(n=e.defaultValue)&&void 0!==n?n:e.value,d=null==r?void 0:r.map(e=>"number"==typeof e?{value:e,label:void 0}:e),x=!!(null==d?void 0:d.some(e=>e.label));return(0,l.jsxs)(L.g1,{ref:t,thumbAlignment:"center",...o,children:[i&&!s&&(0,l.jsx)(L.KV,{children:i}),i&&s&&(0,l.jsxs)(a.HStack,{justify:"space-between",children:[(0,l.jsx)(L.KV,{children:i}),(0,l.jsx)(L.Ie,{})]}),(0,l.jsxs)(L.XB,{"data-has-mark-label":x||void 0,children:[(0,l.jsx)(L.hB,{children:(0,l.jsx)(L.tO,{})}),(0,l.jsx)(T,{value:c}),(0,l.jsx)(I,{marks:d})]})]})});function T(e){let{value:t}=e;return(0,l.jsx)(R.a,{each:t,children:(e,t)=>(0,l.jsx)(L.OQ,{index:t,children:(0,l.jsx)(L.Un,{})},t)})}let I=r.forwardRef(function(e,t){let{marks:n}=e;return(null==n?void 0:n.length)?(0,l.jsx)(L.lq,{ref:t,children:n.map((e,t)=>{let n="number"==typeof e?e:e.value,r="number"==typeof e?void 0:e.label;return(0,l.jsxs)(L.mH,{value:n,children:[(0,l.jsx)(L.nI,{}),r]},t)})}):null});function V(e){let{onClose:t,onChangeFilter:n,currentMaxDensity:i,currentMinValue:s}=e,[a,o]=(0,r.useState)(i),[c,d]=(0,r.useState)(s);return(0,l.jsx)(H.Dz,{lazyMount:!0,open:!0,onOpenChange:t,children:(0,l.jsxs)(H.Cf,{children:[(0,l.jsxs)(H.c7,{children:[(0,l.jsx)(H.L3,{children:"濃い意見グループ設定"}),(0,l.jsxs)(A.Text,{children:["濃い意見グループ設定を設定すると、表示件数を絞って詳細を確認できます",(0,l.jsx)("br",{}),"（全体図には適用されません）"]})]}),(0,l.jsxs)(H.R4,{children:[(0,l.jsx)(j.Box,{mb:4,children:(0,l.jsx)(W,{label:"上位何％の意見グループを表示するか: ".concat(100*a,"%"),step:.1,min:.1,max:1,value:[a],onValueChange:e=>o(Number(e.value[0])),marks:[{value:.1,label:"10%"},{value:1,label:"100%"}]})}),(0,l.jsx)(j.Box,{children:(0,l.jsx)(W,{label:"意見グループのサンプル数の最小数: ".concat(c),step:1,min:0,max:10,value:[c],onValueChange:e=>d(Number(e.value[0])),marks:[{value:0,label:"0"},{value:10,label:"10"}]})})]}),(0,l.jsxs)(H.Es,{justifyContent:"space-between",children:[(0,l.jsx)(P.h,{}),(0,l.jsx)(j.Box,{children:(0,l.jsx)(m.Button,{onClick:function(){n(a,c),t()},children:"設定を適用"})})]}),(0,l.jsx)(H.tK,{})]})})}function M(e){let{result:t}=e,[n,i]=(0,r.useState)(t),[s,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)("scatterAll"),[d,x]=(0,r.useState)(.2),[h,u]=(0,r.useState)(5),[j,m]=(0,r.useState)(!1);function b(e,n){t&&i({...t,clusters:function(e,t,n){let l=e.reduce((e,t)=>Math.max(e,t.level),0);return[...e.filter(e=>e.level!==l),...e.filter(e=>e.level===l).filter(e=>e.density_rank_percentile<=t).filter(e=>e.value>=n)]}(t.clusters||[],e,n)})}return(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsx)(V,{currentMaxDensity:d,currentMinValue:h,onClose:()=>{a(!1)},onChangeFilter:function(e,t){x(e),u(t),"scatterDensity"===o&&b(e,t)}}),(0,l.jsx)(D,{selected:o,onChange:e=>{c(e),("scatterAll"===e||"treemap"===e)&&b(1,0),"scatterDensity"===e&&b(d,h)},onClickDensitySetting:()=>{a(!0)},onClickFullscreen:()=>{m(!0)}}),(0,l.jsx)(f,{result:n,selectedChart:o,isFullscreen:j,onExitFullscreen:()=>{m(!1)}})]})}},85673:(e,t,n)=>{Promise.resolve().then(n.bind(n,12498)),Promise.resolve().then(n.bind(n,90754)),Promise.resolve().then(n.bind(n,91925)),Promise.resolve().then(n.bind(n,38878)),Promise.resolve().then(n.bind(n,70318)),Promise.resolve().then(n.bind(n,81068)),Promise.resolve().then(n.bind(n,38567)),Promise.resolve().then(n.bind(n,77342)),Promise.resolve().then(n.bind(n,30220)),Promise.resolve().then(n.bind(n,7684)),Promise.resolve().then(n.bind(n,26250)),Promise.resolve().then(n.bind(n,91548)),Promise.resolve().then(n.bind(n,97377)),Promise.resolve().then(n.bind(n,38639)),Promise.resolve().then(n.bind(n,17921)),Promise.resolve().then(n.bind(n,90310)),Promise.resolve().then(n.t.bind(n,6874,23))},90754:(e,t,n)=>{"use strict";n.d(t,{Header:()=>u});var l=n(95155),r=n(97377),i=n(89248),s=n(99840),a=n(38567),o=n(90310),c=n(17921),d=n(67270);function x(){return(0,l.jsxs)(s.Dz,{size:"xl",placement:"center",motionPreset:"slide-in-bottom",children:[(0,l.jsx)(s.zM,{asChild:!0,children:(0,l.jsxs)(a.Button,{variant:"ghost",children:[(0,l.jsx)(d.A,{}),(0,l.jsx)(o.Text,{display:{base:"none",lg:"block"},children:"ブロードリスニングの解説"})]})}),(0,l.jsxs)(s.Cf,{children:[(0,l.jsxs)(s.c7,{children:[(0,l.jsx)(c.Heading,{as:"h2",size:"xl",className:"headingColor",children:"ブロードリスニングとは？"}),(0,l.jsx)(s.tK,{})]}),(0,l.jsxs)(s.R4,{children:[(0,l.jsxs)(o.Text,{mb:4,fontSize:"md",children:["ブロードリスニングとは",(0,l.jsx)("b",{children:"「広く声を収集し、収集した声をAI技術で分析・可視化する手法」"}),"です。"]}),(0,l.jsx)(i._,{mb:4,src:"/images/broadlistening.png",alt:"ブロードリスニングのイメージ"}),(0,l.jsx)(o.Text,{children:"かつてラジオやテレビなど放送技術の発展により、大勢の人に声を届けることが可能になりました。しかし大勢の声を聞くことはできませんでした。2023年ごろから、大規模言語モデルの技術の発展により、大勢の意見を要約し、わかりやすく可視化したりレポートにまとめたりすることが可能になりました。この「大勢の声を聞く技術」のことをブロードリスニングと言います。"})]})]})]})}var h=n(14918);function u(e){let{meta:t}=e;return(0,l.jsxs)(r.HStack,{justify:"space-between",mb:8,mx:"auto",maxW:"1200px",children:[(0,l.jsx)(r.HStack,{children:t&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i._,{src:(0,h.$)("/meta/reporter.png"),mx:"auto",objectFit:"cover",maxH:{base:"40px",md:"60px"},maxW:{base:"120px",md:"200px"},alt:t.reporter})})}),(0,l.jsx)(x,{})]})}},91925:(e,t,n)=>{"use strict";n.d(t,{Analysis:()=>V});var l=n(95155),r=n(86942),i=n(81068),s=n(91548),a=n(17921),o=n(97377),c=n(35599),d=n(7684),x=n(90310),h=n(25588),u=n(38567),j=n(63603),m=n(24772),b=n(12115);let p=b.forwardRef(function(e,t){return(0,l.jsxs)(m.HV,{ref:t,children:[(0,l.jsx)(m.nn,{}),(0,l.jsx)(m.L2,{...e})]})}),g=m.sM,f=m.lx,v=m.Dd;m.L2;let k=m._A,y=m._U;var w=n(17017),C=n(73158),S=n(70018),z=n(70593),_=n(99145),B=n(70318),D=n(30220);n(18133);let A=b.forwardRef(function(e,t){let{children:n,portalled:r=!0,portalRef:i,offset:s,...a}=e;return(0,l.jsx)(B.Portal,{disabled:!r,container:i,children:(0,l.jsx)(D.DrawerPositioner,{padding:s,children:(0,l.jsx)(D.DrawerContent,{ref:t,...a,asChild:!1,children:n})})})});D.DrawerTrigger;let P=D.DrawerRoot,H=D.DrawerFooter,L=D.DrawerHeader,R=D.DrawerBody,W=D.DrawerBackdrop;D.DrawerDescription;let T=D.DrawerTitle;D.DrawerActionTrigger;var I=n(37777);function V(e){let{result:t}=e,[n,m]=(0,b.useState)(null),B=t.clusters.map(e=>e.level).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{}),{open:D,onToggle:V}=(0,r.j)();return(0,l.jsxs)(i.Box,{mx:"auto",maxW:"750px",mb:12,cursor:"default",children:[(0,l.jsx)(s.Separator,{mt:20,mb:12}),(0,l.jsx)(a.Heading,{textAlign:"center",fontSize:"xl",mb:5,children:"Analysis"}),(0,l.jsxs)(o.HStack,{mb:5,justify:"center",children:[(0,l.jsx)(I.m,{content:"全てのコメントをAIで分析し、意見が含まれるコメントを抽出します。意見が含まれないコメントや、議題と関係のないコメントは除外されます。",openDelay:0,closeDelay:0,children:(0,l.jsxs)(c.VStack,{gap:0,w:"200px",children:[(0,l.jsx)(d.Icon,{mb:2,children:(0,l.jsx)(w.A,{size:"30px"})}),(0,l.jsx)(x.Text,{className:"headingColor",fontSize:"3xl",fontWeight:"bold",lineHeight:1,mb:1,children:t.comment_num.toLocaleString()}),(0,l.jsx)(x.Text,{fontSize:"xs",children:"意見が含まれるコメント数"})]})}),(0,l.jsx)(C.A,{}),(0,l.jsx)(I.m,{content:"抽出したコメントをAIで分析し、様々な意見を抽出します。複数の意見が混ざったコメントなども適切に分離します。",openDelay:0,closeDelay:0,children:(0,l.jsxs)(c.VStack,{gap:0,w:"200px",children:[(0,l.jsx)(d.Icon,{mb:2,children:(0,l.jsx)(S.A,{size:"30px"})}),(0,l.jsx)(x.Text,{className:"headingColor",fontSize:"3xl",fontWeight:"bold",lineHeight:1,mb:1,children:t.arguments.length.toLocaleString()}),(0,l.jsx)(x.Text,{fontSize:"xs",children:"抽出した意見数"})]})}),(0,l.jsx)(C.A,{}),(0,l.jsx)(I.m,{content:"抽出した意見をAIで分析し、近しい意見を一つの意見グループに分類します。意見グループごとの意見を要約し、大量の意見を見える化します。",openDelay:0,closeDelay:0,children:(0,l.jsxs)(c.VStack,{gap:0,w:"200px",children:[(0,l.jsx)(d.Icon,{mb:2,children:(0,l.jsx)(z.A,{size:"30px"})}),(0,l.jsxs)(o.HStack,{gap:1,alignItems:"center",children:[(0,l.jsx)(x.Text,{className:"headingColor",fontSize:"3xl",fontWeight:"bold",lineHeight:1,mb:1,children:B["1"].toLocaleString()}),(0,l.jsx)(x.Text,{fontSize:"md",children:"→"}),(0,l.jsx)(x.Text,{className:"headingColor",fontSize:"3xl",fontWeight:"bold",lineHeight:1,mb:1,children:B["2"].toLocaleString()})]}),(0,l.jsx)(x.Text,{fontSize:"xs",children:"集約した意見グループ数"})]})})]}),(0,l.jsx)(x.Text,{mb:5,children:t.config.intro}),(0,l.jsxs)(i.Box,{children:[(0,l.jsxs)(h.s,{align:"center",mb:5,children:[(0,l.jsx)(a.Heading,{fontSize:"md",children:"分析手順"}),(0,l.jsx)(u.Button,{variant:"outline",size:"sm",ml:2,onClick:V,children:D?"非表示":"表示"})]}),(0,l.jsx)(j.C,{present:D,children:(0,l.jsx)(g,{size:"lg",children:t.config.plan.map(e=>(0,l.jsxs)(v,{children:[(0,l.jsx)(p,{children:(0,l.jsx)(_.A,{})}),"extraction"===e.step&&(0,l.jsxs)(f,{children:[(0,l.jsxs)(k,{fontWeight:"bold",children:["抽出 (",t.config.extraction.model,")"]}),(0,l.jsxs)(y,{children:["コメントデータから意見を抽出するステップです。",(0,l.jsx)("br",{})]}),(0,l.jsxs)(o.HStack,{children:[(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"抽出 - ".concat(e.step),body:t.config.extraction.source_code}),children:"ソースコード"}),(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"抽出 - ".concat(e.step),body:t.config.extraction.prompt}),children:"プロンプト"})]})]}),"embedding"===e.step&&(0,l.jsxs)(f,{children:[(0,l.jsxs)(k,{fontWeight:"bold",children:["埋め込み (",t.config.embedding.model,")"]}),(0,l.jsxs)(y,{children:["抽出された意見に対して埋め込み（ベクトル表現）を生成するステップです。",(0,l.jsx)("br",{}),"これにより、意見の内容を数値ベクトルとして表現します。"]}),(0,l.jsx)(o.HStack,{children:(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"埋め込み - ".concat(e.step),body:t.config.embedding.source_code}),children:"ソースコード"})})]}),"hierarchical_clustering"===e.step&&(0,l.jsxs)(f,{children:[(0,l.jsx)(k,{fontWeight:"bold",children:"クラスタリング"}),(0,l.jsxs)(y,{children:["埋め込みベクトルの値に基づいて意見の階層クラスタリングを行うステップです。",(0,l.jsx)("br",{})]}),(0,l.jsx)(o.HStack,{children:(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"クラスタリング - ".concat(e.step),body:t.config.hierarchical_clustering.source_code}),children:"ソースコード"})})]}),"hierarchical_initial_labelling"===e.step&&(0,l.jsxs)(f,{children:[(0,l.jsxs)(k,{fontWeight:"bold",children:["初期ラベリング (",t.config.hierarchical_initial_labelling.model,")"]}),(0,l.jsxs)(y,{children:["クラスタリングの結果に対して、各クラスタに適切なタイトル・説明文を生成（ラベリング）するステップです。",(0,l.jsx)("br",{}),"このステップでは、最も細かい粒度のクラスタ（最下層のクラスタ）に対して、各クラスタに属する意見に基づいてクラスタのタイトルと説明文を生成します。"]}),(0,l.jsxs)(o.HStack,{children:[(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"初期ラベリング - ".concat(e.step),body:t.config.hierarchical_initial_labelling.source_code}),children:"ソースコード"}),(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"初期ラベリング - ".concat(e.step),body:t.config.hierarchical_initial_labelling.prompt}),children:"プロンプト"})]})]}),"hierarchical_merge_labelling"===e.step&&(0,l.jsxs)(f,{children:[(0,l.jsxs)(k,{fontWeight:"bold",children:["統合ラベリング (",t.config.hierarchical_merge_labelling.model,")"]}),(0,l.jsxs)(y,{children:["階層的クラスタリングの結果に対して、クラスタをマージしながらタイトル・説明文を生成（ラベリング）するステップです。",(0,l.jsx)("br",{}),"このステップでは、下層のクラスタのタイトル及び説明文と、意見に基づいて上層のクラスタのタイトル及び説明文を生成します。"]}),(0,l.jsxs)(o.HStack,{children:[(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"統合ラベリング - ".concat(e.step),body:t.config.hierarchical_merge_labelling.source_code}),children:"ソースコード"}),(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"統合ラベリング - ".concat(e.step),body:t.config.hierarchical_merge_labelling.prompt}),children:"プロンプト"})]})]}),"hierarchical_overview"===e.step&&(0,l.jsxs)(f,{children:[(0,l.jsxs)(k,{fontWeight:"bold",children:["要約 (",t.config.hierarchical_overview.model,")"]}),(0,l.jsxs)(y,{children:["クラスタの概要を作成するステップです。",(0,l.jsx)("br",{}),"各クラスタのタイトル及び説明文をもとに、全体の概要をまとめます。"]}),(0,l.jsxs)(o.HStack,{children:[(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"要約 - ".concat(e.step),body:t.config.hierarchical_overview.source_code}),children:"ソースコード"}),(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"要約 - ".concat(e.step),body:t.config.hierarchical_overview.prompt}),children:"プロンプト"})]})]}),"hierarchical_aggregation"===e.step&&(0,l.jsxs)(f,{children:[(0,l.jsx)(k,{fontWeight:"bold",children:"出力"}),(0,l.jsxs)(y,{children:["最終的な結果を出力するステップです。",(0,l.jsx)("br",{}),"意見および各分析結果を含むJSONファイルを出力します。"]}),(0,l.jsx)(o.HStack,{children:(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"出力 - ".concat(e.step),body:t.config.hierarchical_aggregation.source_code}),children:"ソースコード"})})]}),"hierarchical_visualization"===e.step&&(0,l.jsxs)(f,{children:[(0,l.jsx)(k,{fontWeight:"bold",children:"表示"}),(0,l.jsxs)(y,{children:["出力されたJSONファイルをグラフィカルに表示するステップです。",(0,l.jsx)("br",{}),"意見グループの概要、意見の内容などを可視化します。あなたが見ているこの画面が出来上がります。"]}),(0,l.jsx)(o.HStack,{children:(0,l.jsx)(u.Button,{variant:"outline",size:"xs",onClick:()=>m({title:"表示 - ".concat(e.step),body:t.config.hierarchical_visualization.source_code}),children:"ソースコード"})})]})]},e.step))})})]}),(0,l.jsxs)(P,{open:!!n,size:"xl",onOpenChange:()=>m(null),children:[(0,l.jsx)(W,{}),(0,l.jsxs)(A,{children:[(0,l.jsx)(L,{children:(0,l.jsx)(T,{children:null==n?void 0:n.title})}),(0,l.jsx)(R,{fontSize:"xs",children:(0,l.jsx)(i.Box,{p:5,borderRadius:5,bgColor:"#111",color:"#fff",whiteSpace:"pre-wrap",className:"code",children:null==n?void 0:n.body})}),(0,l.jsx)(H,{children:(0,l.jsx)(u.Button,{w:"150px",onClick:()=>m(null),children:"閉じる"})})]})]})]})}},99840:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>o,Dz:()=>d,Es:()=>x,L3:()=>j,R4:()=>u,c7:()=>h,tK:()=>c,zM:()=>m});var l=n(95155),r=n(70318),i=n(89682),s=n(18133),a=n(12115);let o=a.forwardRef(function(e,t){let{children:n,portalled:s=!0,portalRef:a,backdrop:o=!0,...c}=e;return(0,l.jsxs)(r.Portal,{disabled:!s,container:a,children:[o&&(0,l.jsx)(i.Xi,{}),(0,l.jsx)(i.f5,{children:(0,l.jsx)(i.Cf,{ref:t,...c,asChild:!1,children:n})})]})}),c=a.forwardRef(function(e,t){return(0,l.jsx)(i.tK,{position:"absolute",top:"2",insetEnd:"2",...e,asChild:!0,children:(0,l.jsx)(s.J,{size:"sm",ref:t,children:e.children})})}),d=i.Dz,x=i.Es,h=i.c7,u=i.R4;i.Xi;let j=i.L3;i.rr;let m=i.zM;i.Tt}}]);